function bmp_withdrwal_request(){var a=$('#withdrwal_amount').val();$.ajax({type:'POST',url:bmpajaxurl,data:{action:'bmp_withdrwal_amount_request',amount:a},beforeSend:function(){$('.let-loader-layer').addClass('let-visible');},success:function(b){$('#withdrwal_amount_message').html('').removeClass('let-text-success let-text-danger');var a=$.parseJSON(b);setTimeout(function(){a.status==1?$('#withdrwal_amount_message').html(a.message).addClass('let-text-success'):$('#withdrwal_amount_message').html(a.message).addClass('let-text-danger'),$('.let-loader-layer').removeClass('let-visible');},2000);}});}function run(b){var a=$('#year').val();$.ajax({type:'POST',url:bmpajaxurl,data:{action:'bmp_user_graph',year:a},success:function(a){location.reload();}});}var $=jQuery.noConflict();var bmpajaxurl=$('meta[name="bmp_adminajax"]').attr('content');$('#auto_add_bmp_user_fill').click(function(e){e.preventDefault();var a=$('#number').val();var b=$('#sponsor').val();var c=$('#epin').val();var d=$('#position').val();$.ajax({type:'POST',url:bmpajaxurl,data:{action:'bmp_auto_add',number:a,sponsor:b,epin:c,position:d},success:function(b){$('.bmp_username_message').html('');var a=$.parseJSON(b);return a.status==0?($('.bmp_username_message').html(a.message),$('#bmp_username').val('')):$('.bmp_username_message').html(a.message),!1;}});}),$('#bmp_username').blur(function(){var a=$('#bmp_username').val();$.ajax({type:'POST',url:bmpajaxurl,data:{action:'bmp_username_exist',username:a},success:function(b){$('#bmp_username').addClass('let-m-0'),$('.bmp_username_message').html('');var a=$.parseJSON(b);return a.status==0?($('.bmp_username_message').html(a.message),$('#bmp_username').val('')):$('.bmp_username_message').html(a.message),!1;}});}),$('#bmp_email').blur(function(){var a=$('#bmp_email').val();$.ajax({type:'POST',url:bmpajaxurl,data:{action:'bmp_email_exist',email:a},success:function(b){$('#bmp_email').addClass('let-m-0'),$('.bmp_email_message').html('');var a=$.parseJSON(b);return a.status==0?($('.bmp_email_message').html(a.message),$('#bmp_email').val('')):$('.bmp_email_message').html(a.message),!1;}});}),$('#bmp_sponsor_id').blur(function(){$.ajax({type:'POST',url:bmpajaxurl,data:{action:'bmp_sponsor_exist',sponsor:$(this).val()},success:function(b){$('#bmp_sponsor_id').addClass('let-m-0'),$('.bmp_sponsor_message').html('');var a=$.parseJSON(b);return a.status==0?($('.bmp_sponsor_message').html(a.message),$(this).val('')):$('.bmp_sponsor_message').html(a.message),!1;}});}),$('#bmp_parent').blur(function(){$.ajax({type:'POST',url:bmpajaxurl,data:{action:'bmp_parent_exist',parent:$(this).val(),sponsor:$('#bmp_sponsor_id').val()},success:function(b){$('#bmp_parent').addClass('let-m-0'),$('.bmp_parent_message').html('');var a=$.parseJSON(b);return a.status==0?($('.bmp_parent_message').html(a.message),$(this).val('')):($('input[name=bmp_position][value=left]').removeAttr('disabled','disabled'),$('input[name=bmp_position][value=right]').removeAttr('disabled','disabled'),$('input[name=bmp_position][value=right]').parent().removeClass('checked'),$('input[name=bmp_position][value=left]').parent().removeClass('checked'),a.position&&(a.position=='left'?($('input[name=bmp_position][value=right]').parent().addClass('checked'),$('input[name=bmp_position][value=left]').parent().removeClass('checked'),$('input[name=bmp_position][value=right]').attr('checked','checked'),$('input[name=bmp_position][value=left]').attr('disabled','disabled')):a.position=='right'&&($('input[name=bmp_position][value=right]').parent().removeClass('checked'),$('input[name=bmp_position][value=left]').parent().addClass('checked'),$('input[name=bmp_position][value=left]').attr('checked','checked'),$('input[name=bmp_position][value=right]').attr('disabled','disabled'))),$('.bmp_parent_message').html(a.message)),!1;}});}),$('#bmp_epin').blur(function(){var a=$('#bmp_epin').val();$.ajax({type:'POST',url:bmpajaxurl,data:{action:'bmp_epin_exist',epin:a},success:function(b){$('#bmp_epin').addClass('let-m-0'),$('.bmp_epin_message').html('');var a=$.parseJSON(b);return a.status==0?($('.bmp_epin_message').html(a.message),$('#bmp_epin').val('')):$('.bmp_epin_message').html(a.message),!1;}});}),$('#epin_value').blur(function(){var a=$('#epin_value').val();$.ajax({type:'POST',url:bmpajaxurl,data:{action:'bmp_epin_exist',epin:a},success:function(b){$('#epin_value').addClass('let-m-0'),$('.bmp_epin_message').html('');var a=$.parseJSON(b);return a.status==0?($('.bmp_epin_message').html(a.message),$('#bmp_epin').val('')):$('.bmp_epin_message').html(a.message),!1;}});}),$('#bmp_join_epin').blur(function(){var a=$('#bmp_join_epin').val();$(this).val()&&$.ajax({type:'POST',url:bmpajaxurl,data:{action:'bmp_epin_exist',epin:a},success:function(b){$('.bmp_epin_join_message').html('');var a=$.parseJSON(b);return a.status==0?($('.bmp_epin_join_message').html(a.message),$('#bmp_epin').val('')):$('.bmp_epin_join_message').html(a.message),!1;}});}),$('#bmp_confirm_password').blur(function(){var a=$('#bmp_password').val();var b=$('#bmp_confirm_password').val();$.ajax({type:'POST',url:bmpajaxurl,data:{action:'bmp_password_validation',password:a,confirm_password:b},success:function(b){$('#bmp_confirm_password').addClass('let-m-0'),$('.bmp_confirm_password_message').html('');var a=$.parseJSON(b);return a.status==0?($('.bmp_confirm_password_message').html(a.message),$('#bmp_confirm_password').val(''),$('#bmp_password').val('')):$('.bmp_confirm_password_message').html(a.message),!1;}});}),$('#bmp_register_form').submit(function(d){d.preventDefault();var a=$(this);var b=$(this.redirect_URL);var c=a.serialize();return $.ajax({type:'POST',url:bmpajaxurl,data:c,success:function(c){var a=$.parseJSON(c);a.status==0?$.each(a.error,function(a,b){$('.'+a).prev('input').addClass('let-m-0'),$('.'+a).addClass('let-text-danger'),$('.'+a).html(b);}):(window.location.href=b.val(),$('#bmp_user_success_message').html(a.message),$('#bmp_register_form').remove());}}),!1;}),$('#bmp_login_form').submit(function(c){c.preventDefault();var a=$(this);var b=a.serialize();return $.ajax({type:'POST',url:bmpajaxurl,data:b,success:function(b){var a=$.parseJSON(b);a.status==0?$.each(a.error,function(a,b){$('.'+a).html('<span style="color:red;">'+b+'</span>');}):(window.location.href=urlw.val(),$('#bmp_user_success_message').html(a.message),$('#bmp_register_form').remove());}}),!1;}),$('#bmp_join_form').submit(function(c){c.preventDefault();var a=$(this);var b=a.serialize();return $.ajax({type:'POST',url:bmpajaxurl,data:b,success:function(b){var a=$.parseJSON(b);a.status==0?$.each(a.error,function(a,b){$('.'+a).prev('input').addClass('let-m-0'),$('.'+a).addClass('let-text-danger'),$('.'+a).html(b);}):location.reload();}}),!1;}),$('#downlines-search').click(function(b){b.preventDefault(),$('.search-message').html('');var a=$('#downlines-username').val();return a==''?($('.search-message').html('<span style="color:red;">Username could not be empty.</span>'),!1):($.ajax({type:'POST',url:bmpajaxurl,data:{action:'bmp_username_downline_search',username:a},success:function(b){$('.search-message').html('');var a=$.parseJSON(b);return a.status==1?($('.search-message').html(a.message),$('#downlines-usersearch').submit()):$('.search-message').html(a.message),!1;}}),!1);}),$('#insert_epin').click(function(a){a.preventDefault(),$('#epin_form').is(':hidden')?$('#epin_form').show('slow'):$('#epin_form').hide('slow');}),$('#update_epin').click(function(a){return a.preventDefault(),new_epin=$('#epin_value').val(),old_epin=$('#old_epin').val(),$.ajax({type:'POST',url:bmpajaxurl,data:{action:'bmp_update_epin',new_epin:new_epin,old_epin:old_epin},success:function(a){$('#epin_form').reload();}}),!1;}),$('#account_details_form').submit(function(b){b.preventDefault();var a=$(this);$.ajax({type:'POST',url:bmpajaxurl,dataType:'json',data:a.serialize(),success:function(a){return a.status==1?$('#form-message').html('<div class="let-alert let-p-1 let-text-white let-rounded-0 let-alert-success" role="alert">'+'<strong>'+a.message+'</strong></div>'):($.each(a.error,function(a,b){$('#'+a).html(b);}),$('#form-message').html('<div class="let-alert let-p-1 let-text-white let-rounded-0 let-alert-danger" role="alert">'+'<strong>'+a.message+'</strong></div>')),!1;}});}),$('#bmp_invitation_form').submit(function(b){b.preventDefault();var a=$('#bmp_email').val();return $.ajax({type:'POST',url:bmpajaxurl,data:{action:'bmp_send_invitation_hook',invite_mail:a},success:function(b){var a=$.parseJSON(b);$('.bmp_email_message').html('').removeClass('let-text-success let-text-danger'),a.status==1?$('.bmp_email_message').html(a.message).addClass('let-text-success'):$('.bmp_email_message').html(a.message).addClass('let-text-danger');}}),!1;}),$('#invite_email').blur(function(b){b.preventDefault();var a=$('#invite_email').val();$.ajax({type:'POST',url:bmpajaxurl,data:{action:'bmp_email_check',email:a},success:function(b){var a=$.parseJSON(b);return $('.bmp_email_check').html(''),a.status==1?($('.bmp_email_check').css('color','green'),$('.bmp_email_check').html(a.message)):$.each(a.error,function(a,b){$('.bmp_email_check').attr('id')==a&&$('.bmp_email_check').html(b);}),!1;}});}),$(document).ready(function(){$('#download').on('click',function(){var a=$('#chart_div');html2canvas(a,{onrendered:function(c){var a=c.toDataURL('image/png');var b=a.replace(/^data:image\/png/,'data:application/octet-stream');$('#download').attr('download','geneology.png').attr('href',b),$('#download').text('Download');}});});});